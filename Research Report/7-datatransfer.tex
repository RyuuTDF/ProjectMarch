\section{Wireless Data Transfer}\label{sec:datatrans}
This section describes the most important point for the research. If the data is not transferred wireless to the external system blablabla

\subsection{Original idea}
EtherCAT is already used on the exoskeleton as stated in section \ref{sec:etherCat}. This lead to the first point, whether the current EtherCAT-configuration could be extended. The exoskeleton (E) and the receiver (R) would both be running Simulink. The receiver would then process the data and send it to the interface (I). This leaves the possibility to  extend to multiple interfaces, by putting a broadcaster (B) between the receiver and the interface(s). A visual representation of this model can be found in figure \ref{fig:catmodel}. However, the EtherCAT-blocks in Matlab \cite{web:ethercat} do not support wireless connections. Therefore it is not possible to implement this solution.

The next step was to check whether the original model would work using the Ethernet-blocks \cite{web:ethernet} instead. The original model would only need a slight change, which results in figure \ref{fig:netmodel}. However, after consulting with Speedgoat, this model was deemed as not preferred. If a USB wireless adapter would be used, drivers would need to be written for it as Simulink cannot use the standard drivers.\\
Timeframe en tijd enzo\\

\begin{figure}[H]
	\centering
	\begin{minipage}{.49\textwidth}
		\centering
		\includegraphics[width=\linewidth]{ERBI-Model-EtherCat}
		\subcaption{EtherCAT variation}
		\label{fig:catmodel}
	\end{minipage}
	\rulesep
	\begin{minipage}{.49\textwidth}
		\centering
		\includegraphics[width=\linewidth]{ERBI-Model-TCP}
		\subcaption{Ethernet variation}
		\label{fig:netmodel}
	\end{minipage}
	\caption{The variations of the original model}
	\label{fig:firstmodel}
\end{figure}

\subsection{Improved models}
Due to a lack of options to add wireless communication directly to the Speedgoat, bridging hardware is required to attach a wireless card on a wired interface on the Speedgoat. The following models are based on the possibility to build a wireless connection via such a device. 
\subsubsection{Plan A1}
This model requires the wireless bridge to transparently bridge the wired and wireless connections on the network level. This makes direct communication between the data provider (E) and client (I) possible. The Simulink model on the exoskeleton can directly send acquired data to a client with a GUI build in Matlab. By using Matlab to build the GUI we can make use of the extensive data visualization features and data processing features of Matlab without the need of translating this data for use with another program. 

Although the chosen networking model does not differentiate between networking protocols, UDP send \cite{web:UDPSend} is considered as a good choice due to the ease of setting up non-blocking communication.
% En nog iets met UDPSend! UDP Send: \cite{web:UDPSend}
\subsubsection{Plan A2}
Also this solution comprises of a data provider in Simulink running on the exoskeleton and a Matlab client, however the networking model is slightly different. Instead of building a transparent connection bridge, the wireless bridge will run software listening for connections both on the wireless and wired network connection. This will eliminate the need to use server sockets on the exoskeleton and on the client, instead both of them will build a connection to the bridge. The software running on the bridge will ensure that data pushed from the exoskeleton will be pushed further to any connected client.
\subsubsection{Plan B}
The Standalone Model with a non-Matlab executable running on the client can make use of the same two networking models. However, if the solution similar to Plan A2 is chosen, the bridge might be used too as a data processing unit. The advantage of this is that the data can be transformed to a format that eases the processing on the client.
\subsubsection{Plan C}
The Webservice Model avoids the need of running a standalone executable or the need of a Matlab installation on the system running the client. The client connects to the network, and the full interface can be opened in a web browser by pointing the location to the url of the bridge. This will require data processing on the bridge, as it has to reformat the data send by simulink on the exoskeleton to a format suitable for sending over a websocket to the client. The client can not use a technique like polling because of the need for real-time data.

\subsection{Data Packaging}
\begin{itemize}
	\item Two custom blocks in Matlab
	\item State Table
	\item Update rate 50 Hz
\end{itemize}